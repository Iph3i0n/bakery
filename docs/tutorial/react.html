<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Bakery Docs</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="/dist/bundle.min.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <l-templated use="/tutorial/layout.template.html" remote>
      <div id="root"></div>
    </l-templated>
    <div style="position: fixed; bottom: 1rem; left: 1rem">
      <f-button type="button" id="toc" colour="primary">
        <t-icon name="menu-3" size="body_large" colour="primary" text></t-icon>
      </f-button>
    </div>
    <script type="text/babel">
      function Table() {
        return (
          <l-table
            ref={(table) => {
              table.data = [
                {
                  username: "Paul Popat",
                  email: "paul@popatux.co.uk",
                  dob: "Not Telling",
                },
                {
                  username: "Joe Blogs",
                  email: "joe.blogs@popatux.co.uk",
                  dob: "20/13/1964",
                },
                {
                  username: "Jill Doe",
                  email: "jill.doe@popatux.co.uk",
                  dob: "45/13/1982",
                },
              ];
            }}
          >
            <table-row slot="head">
              <table-cell>Username</table-cell>
              <table-cell>Email</table-cell>
              <table-cell>Date of Birth</table-cell>
            </table-row>
            <table-row>
              <table-cell use="row.username"></table-cell>
              <table-cell use="row.email"></table-cell>
              <table-cell use="row.dob"></table-cell>
            </table-row>
          </l-table>
        );
      }

      function RichText() {
        return (
          <t-richtext
            language="javascript"
            ref={(text) => (text.data = "<p>Hello world</p>")}
          />
        );
      }

      function Example({ code, children }) {
        return (
          <d-panel colour="surface" bordered>
            <l-row>
              <l-col xs="12">{children}</l-col>
            </l-row>
            <t-code language="js" file="*.jsx" flush>
              {code}
            </t-code>
          </d-panel>
        );
      }

      function App() {
        return (
          <l-container>
            <l-row>
              <l-col xs="12">
                <t-heading id="forms" level="h2">
                  <t-localised>React and Other Frameworks</t-localised>
                </t-heading>
                <t-paragraph>
                  <t-localised>
                    This page has been written using React to give you an idea
                    of how these components would be written in a framework. The
                    data fetching components can still be used but all of the
                    components that rely on it also expose a data property on
                    their class that can set using the ref in JS first
                    methodologies like React.
                  </t-localised>
                </t-paragraph>
                <t-paragraph>
                  <t-localised>
                    Check out the code for it at{" "}
                    <t-link
                      href="https://github.com/PaulPopat/bakery/blob/master/docs/tutorial/react.html"
                      target="_blank"
                      private
                    >
                      GitHub
                    </t-link>
                    .
                  </t-localised>
                </t-paragraph>
              </l-col>
            </l-row>
            <l-row>
              <l-col xs="12">
                <Example
                  code={`
                    function Table() {
                      return (
                        <l-table
                          ref={(table) => {
                            table.data = [
                              {
                                username: "Paul Popat",
                                email: "paul@popatux.co.uk",
                                dob: "Not Telling",
                              },
                              {
                                username: "Joe Blogs",
                                email: "joe.blogs@popatux.co.uk",
                                dob: "20/13/1964",
                              },
                              {
                                username: "Jill Doe",
                                email: "jill.doe@popatux.co.uk",
                                dob: "45/13/1982",
                              },
                            ];
                          }}
                        >
                          <table-row slot="head">
                            <table-cell>Username</table-cell>
                            <table-cell>Email</table-cell>
                            <table-cell>Date of Birth</table-cell>
                          </table-row>
                          <table-row>
                            <table-cell use="row.username"></table-cell>
                            <table-cell use="row.email"></table-cell>
                            <table-cell use="row.dob"></table-cell>
                          </table-row>
                        </l-table>
                      );
                    }`}
                >
                  <Table />
                </Example>
              </l-col>
            </l-row>
            <l-row>
              <l-col xs="12">
                <Example
                  code={`
                    function RichText() {
                      return (
                        <t-richtext
                          language="javascript"
                          ref={(text) => (text.data = "<p>Hello world</p>")}
                        />
                      );
                    }`}
                >
                  <RichText />
                </Example>
              </l-col>
            </l-row>
          </l-container>
        );
      }

      const container = document.getElementById("root");
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    </script>
  </body>
</html>
